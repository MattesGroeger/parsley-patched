<project name="Parsley Build"> 

	
	<property file="build.properties" />
	
	<property name="version" value="2.0.0"/>
	<property name="pimento.version" value="1.0.1"/>
	<property name="project.dir" value="${basedir}/.."/>
	<property name="lib.dir" value="${project.dir}/lib"/>
	
	<property name="release.target.dir" value="${project.dir}/release/parsley-${version}"/>

	
	<!-- compile -->
	
	<target name="clear">
		<delete dir="${release.target.dir}"/>
		<mkdir dir="${release.target.dir}"/>
	</target>
	
	<target name="compile_parsley_complete_flash">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-keep-as3-metadata+=Inject,InjectConstructor,Factory,PostConstruct,PreDestroy,AsyncInit,ManagedEvents,MessageDispatcher,MessageHandler,MessageBinding,MessageInterceptor,ResourceBinding,Selector,Target,Internal,ObjectDefinition" />
			<arg line="-o ${release.target.dir}/release/parsley-complete-flash-${version}.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/flex.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/framework.swc" />
			<arg line="-el ${release.target.dir}/release/spicelib-complete-flash-${version}.swc" />
			<arg line="-el ${project.dir}/lib/cinnamon-${pimento.version}.swc" />
			<arg line="-el ${project.dir}/lib/pimento-${pimento.version}.swc" />
			<arg line="-sp ${project.dir}/parsley-core ${project.dir}/parsley-flash ${project.dir}/parsley-pimento ${project.dir}/parsley-xml"/>
			<arg line="-is ${project.dir}/parsley-core" />
			<arg line="-is ${project.dir}/parsley-flash" />
			<arg line="-is ${project.dir}/parsley-xml" />
			<arg line="-is ${project.dir}/parsley-pimento" />
			<arg line="-debug=true"/>
			<arg line="-verbose-stacktraces"/>
		</exec>
	</target>
	
	<target name="compile_parsley_complete_flex">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-keep-as3-metadata+=Inject,InjectConstructor,Factory,PostConstruct,PreDestroy,AsyncInit,ManagedEvents,MessageDispatcher,MessageHandler,MessageBinding,MessageInterceptor,ResourceBinding,Selector,Target,Internal,ObjectDefinition" />
			<arg line="-o ${release.target.dir}/release/parsley-complete-flex-${version}.swc" />
			<arg line="-namespace http://www.spicefactory.org/parsley ${project.dir}/manifest/parsley-core-manifest.xml" />
			<arg line="-namespace http://www.spicefactory.org/parsley/flex ${project.dir}/manifest/parsley-flex-manifest.xml" />
			<arg line="-namespace http://www.spicefactory.org/parsley/pimento ${project.dir}/manifest/parsley-pimento-manifest.xml" />
			<arg line="-namespace http://www.spicefactory.org/parsley/cinnamon ${project.dir}/manifest/parsley-cinnamon-manifest.xml" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/flex.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/framework.swc" />
			<arg line="-el ${release.target.dir}/release/spicelib-complete-flash-${version}.swc" />
			<arg line="-el ${project.dir}/lib/cinnamon-${pimento.version}.swc" />
			<arg line="-el ${project.dir}/lib/pimento-${pimento.version}.swc" />
			<arg line="-sp ${project.dir}/parsley-core ${project.dir}/parsley-flex ${project.dir}/parsley-pimento ${project.dir}/parsley-xml"/>
			<arg line="-include-namespaces=http://www.spicefactory.org/parsley,http://www.spicefactory.org/parsley/flex,http://www.spicefactory.org/parsley/pimento,http://www.spicefactory.org/parsley/cinnamon" />
			<arg line="-is ${project.dir}/parsley-xml" />
			<arg line="-include-classes CoreFrameworkClasses org.spicefactory.parsley.flex.logging.FlexLoggingXmlSupport org.spicefactory.parsley.cinnamon.CinnamonXmlSupport org.spicefactory.parsley.pimento.PimentoXmlSupport" />
			<arg line="-debug=true"/>
			<arg line="-verbose-stacktraces"/>
		</exec>
	</target>
	
	<target name="compile_spicelib_complete_flex">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-keep-as3-metadata+=DefaultProperty,Metadata,Required,Event,AssignableTo" />
			<arg line="-o ${release.target.dir}/release/spicelib-complete-flex-${version}.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/flex.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/framework.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/rpc.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/utilities.swc" />
			<arg line="-sp ${project.dir}/spicelib-core ${project.dir}/spicelib-expressions ${project.dir}/spicelib-reflect ${project.dir}/spicelib-task ${project.dir}/spicelib-xml" />
			<arg line="-is ${project.dir}/spicelib-core" />
			<arg line="-is ${project.dir}/spicelib-expressions" />
			<arg line="-is ${project.dir}/spicelib-reflect" />
			<arg line="-is ${project.dir}/spicelib-task" />
			<arg line="-is ${project.dir}/spicelib-xml" />
		</exec>
	</target>
	
	<target name="compile_spicelib_complete_flash">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-keep-as3-metadata+=DefaultProperty,Metadata,Required,Event,AssignableTo" />
			<arg line="-o ${release.target.dir}/release/spicelib-complete-flash-${version}.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/flex.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/framework.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/rpc.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/utilities.swc" />
			<arg line="-sp ${project.dir}/spicelib-core ${project.dir}/spicelib-expressions ${project.dir}/spicelib-flash ${project.dir}/spicelib-reflect ${project.dir}/spicelib-task ${project.dir}/spicelib-xml" />
			<arg line="-is ${project.dir}/spicelib-core" />
			<arg line="-is ${project.dir}/spicelib-expressions" />
			<arg line="-is ${project.dir}/spicelib-flash" />
			<arg line="-is ${project.dir}/spicelib-reflect" />
			<arg line="-is ${project.dir}/spicelib-task" />
			<arg line="-is ${project.dir}/spicelib-xml" />
		</exec>
	</target>
	
	<target name="compile_spicelib_core">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-o ${release.target.dir}/release/modules/spicelib-core-${version}.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/flex.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/framework.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/rpc.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/utilities.swc" />
			<arg line="-sp ${project.dir}/spicelib-core" />
			<arg line="-is ${project.dir}/spicelib-core" />
		</exec>
	</target>
	
	<target name="compile_spicelib_flash">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-o ${release.target.dir}/release/modules/spicelib-flash-${version}.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-core-${version}.swc" />
			<arg line="-sp ${project.dir}/spicelib-flash" />
			<arg line="-is ${project.dir}/spicelib-flash" />
		</exec>
	</target>
	
	<target name="compile_spicelib_reflect">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-keep-as3-metadata+=DefaultProperty,Metadata,Required,Event,AssignableTo" />
			<arg line="-o ${release.target.dir}/release/modules/spicelib-reflect-${version}.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-core-${version}.swc" />
			<arg line="-sp ${project.dir}/spicelib-reflect" />
			<arg line="-is ${project.dir}/spicelib-reflect" />
		</exec>
	</target>
	
	<target name="compile_spicelib_expressions">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-o ${release.target.dir}/release/modules/spicelib-expressions-${version}.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-core-${version}.swc" />
			<arg line="-sp ${project.dir}/spicelib-expressions" />
			<arg line="-is ${project.dir}/spicelib-expressions" />
		</exec>
	</target>
				
	<target name="compile_spicelib_task">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-o ${release.target.dir}/release/modules/spicelib-task-${version}.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-core-${version}.swc" />
			<arg line="-sp ${project.dir}/spicelib-task" />
			<arg line="-is ${project.dir}/spicelib-task" />
		</exec>
	</target>
	
	<target name="compile_spicelib_xml">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-o ${release.target.dir}/release/modules/spicelib-xml-${version}.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-core-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-reflect-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-expressions-${version}.swc" />
			<arg line="-sp ${project.dir}/spicelib-xml" />
			<arg line="-is ${project.dir}/spicelib-xml" />
		</exec>
	</target>
	
	<target name="compile_parsley_core">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-keep-as3-metadata+=Inject,InjectConstructor,Factory,PostConstruct,PreDestroy,AsyncInit,ManagedEvents,MessageDispatcher,MessageHandler,MessageBinding,MessageInterceptor,ResourceBinding,Selector,Target,Internal,ObjectDefinition" />
			<arg line="-o ${release.target.dir}/release/modules/parsley-core-${version}.swc" />
			<arg line="-namespace http://www.spicefactory.org/parsley ${project.dir}/manifest/parsley-core-manifest.xml" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/flex.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/framework.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/rpc.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/utilities.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-core-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-reflect-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-task-${version}.swc" />
			<arg line="-sp ${project.dir}/parsley-core" />
			<arg line="-include-namespaces http://www.spicefactory.org/parsley" />
			<arg line="-include-classes CoreFrameworkClasses" />
		</exec>
	</target>
	
	<target name="compile_parsley_flex">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-o ${release.target.dir}/release/modules/parsley-flex-${version}.swc" />
			<arg line="-namespace http://www.spicefactory.org/parsley/flex ${project.dir}/manifest/parsley-flex-manifest.xml" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/flex.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/framework.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/rpc.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/utilities.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-core-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-reflect-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-expressions-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-xml-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/parsley-core-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/parsley-xml-${version}.swc" />
			<arg line="-sp ${project.dir}/parsley-flex" />
			<arg line="-include-namespaces http://www.spicefactory.org/parsley/flex" />
			<arg line="-include-classes org.spicefactory.parsley.flex.logging.FlexLoggingXmlSupport" />
		</exec>
	</target>
			
	<target name="compile_parsley_xml">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-o ${release.target.dir}/release/modules/parsley-xml-${version}.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-core-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-reflect-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-expressions-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-xml-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/parsley-core-${version}.swc" />
			<arg line="-sp ${project.dir}/parsley-xml" />
			<arg line="-is ${project.dir}/parsley-xml" />
		</exec>
	</target>
	
	<target name="compile_parsley_flash">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-o ${release.target.dir}/release/modules/parsley-flash-${version}.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-core-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-reflect-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-task-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-flash-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-expressions-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-xml-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/parsley-core-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/parsley-xml-${version}.swc" />
			<arg line="-sp ${project.dir}/parsley-flash" />
			<arg line="-is ${project.dir}/parsley-flash" />
		</exec>
	</target>
	
	<target name="compile_parsley_pimento">
		<exec executable="${flex.sdk}/bin/compc.exe" dir="${basedir}">
			<arg line="-o ${release.target.dir}/release/modules/parsley-pimento-${version}.swc" />
			<arg line="-namespace http://www.spicefactory.org/parsley/pimento ${project.dir}/manifest/parsley-pimento-manifest.xml" />
			<arg line="-namespace http://www.spicefactory.org/parsley/cinnamon ${project.dir}/manifest/parsley-cinnamon-manifest.xml" />
			<arg line="-el ${flex.sdk}/frameworks/libs/player/9/playerglobal.swc" />
			<arg line="-el ${flex.sdk}/frameworks/libs/framework.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-core-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-reflect-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-expressions-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/spicelib-xml-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/parsley-core-${version}.swc" />
			<arg line="-el ${release.target.dir}/release/modules/parsley-xml-${version}.swc" />
			<arg line="-el ${project.dir}/lib/cinnamon-${pimento.version}.swc" />
			<arg line="-el ${project.dir}/lib/pimento-${pimento.version}.swc" />
			<arg line="-sp ${project.dir}/parsley-pimento" />
			<arg line="-include-namespaces=http://www.spicefactory.org/parsley/pimento,http://www.spicefactory.org/parsley/cinnamon" />
			<arg line="-include-classes org.spicefactory.parsley.cinnamon.CinnamonXmlSupport org.spicefactory.parsley.pimento.PimentoXmlSupport" />
		</exec>
	</target>
	
	<target name="compile_spicelib_all">
		<antcall target="compile_spicelib_complete_flash"/>
		<antcall target="compile_spicelib_complete_flex"/>
		<antcall target="compile_spicelib_core"/>
		<antcall target="compile_spicelib_reflect"/>
		<antcall target="compile_spicelib_expressions"/>
		<antcall target="compile_spicelib_xml"/>
		<antcall target="compile_spicelib_task"/>
		<antcall target="compile_spicelib_flash"/>
	</target>
	
	<target name="compile_parsley_all">
		<antcall target="compile_parsley_complete_flash"/>
		<antcall target="compile_parsley_complete_flex"/>
		<antcall target="compile_parsley_core"/>
		<antcall target="compile_parsley_xml"/>
		<antcall target="compile_parsley_flex"/>
		<antcall target="compile_parsley_flash"/>
		<antcall target="compile_parsley_pimento"/>
	</target>
	
	<target name="compile_all" description="Compile all Parsley and Spicelib SWCs">
		<antcall target="clear"/>
		<antcall target="compile_spicelib_all"/>
		<antcall target="compile_parsley_all"/>
	</target>
	
	
	<!-- api docs -->
		
	<target name="api_full">
		<delete dir="${project.dir}/release/fullapi"/>
		<mkdir dir="${project.dir}/release/fullapi"/>
		<exec executable="${flex.sdk}/bin/asdoc.exe" dir="${project.dir}">
			<arg line="-source-path spicelib-core spicelib-reflect spicelib-expressions spicelib-logging spicelib-task spicelib-xml parsley-core parsley-flex parsley-xml parsley-localization"/>
			<arg line="-doc-sources spicelib-core spicelib-reflect spicelib-expressions spicelib-logging spicelib-task spicelib-xml parsley-core parsley-flex parsley-xml parsley-localization"/>
			<arg line="-library-path ${basedir}/cinnamon-${cinnamon.version}.swc"/>
			<arg line="-left-frameset-width 250"/>
			<arg line="-main-title"/>
			<arg value="Parsley - Spicelib Full API"/>
			<arg line="-window-title"/>
			<arg value="Parsley - Spicelib Full API"/>
			<!--
			<arg line="-package org.spicefactory.parsley.context"/>
			<arg value="Public API of the IOC Container"/>
			<arg line="-package org.spicefactory.parsley.context.factory"/>
			<arg value="Public API for Custom Configuration Namespaces"/>
			<arg line="-package org.spicefactory.parsley.context.binding"/>
			<arg value="Classes for binding to property values"/>
			<arg line="-package org.spicefactory.parsley.context.converter"/>
			<arg value="Internal Converter implementations"/>
			<arg line="-package org.spicefactory.parsley.context.expr"/>
			<arg value="Internal extensions to the Spicelib Expression Framework"/>
			<arg line="-package org.spicefactory.parsley.context.util"/>
			<arg value="Internal Utility Classes"/>
			<arg line="-package org.spicefactory.parsley.context.xml"/>
			<arg value="XML configuration file parser"/>
			<arg line="-package org.spicefactory.parsley.context.tree"/>
			<arg value="Base Classes for the internal representation of XML configuration files"/>
			<arg line="-package org.spicefactory.parsley.context.tree.core"/>
			<arg value="Classes representing the core XML tags"/>
			<arg line="-package org.spicefactory.parsley.context.tree.core.enum"/>
			<arg value="Enumerations for the core XML tags"/>
			<arg line="-package org.spicefactory.parsley.context.tree.localization"/>
			<arg value="Classes representing the XML tags for localization"/>
			<arg line="-package org.spicefactory.parsley.context.tree.setup"/>
			<arg value="Classes representing the XML tags of the setup section"/>
			<arg line="-package org.spicefactory.parsley.context.tree.values"/>
			<arg value="Classes representing the XML tags for values"/>
			<arg line="-package org.spicefactory.parsley.context.tree.namespaces"/>
			<arg value="Classes representing the core XML tags for custom namespaces"/>
			<arg line="-package org.spicefactory.parsley.context.tree.namespaces.template"/>
			<arg value="Classes representing the core XML tags for templates of custom namespaces"/>
			<arg line="-package org.spicefactory.parsley.context.tree.namespaces.template.client"/>
			<arg value="Classes representing the template client XML tags"/>
			<arg line="-package org.spicefactory.parsley.context.tree.namespaces.template.nested"/>
			<arg value="Classes representing the nested tags in templates"/>
			<arg line="-package org.spicefactory.parsley.context.tree.namespaces.template.context"/>
			<arg value="Context classes for parsing and processing templates"/>
			<arg line="-package org.spicefactory.parsley.localization"/>
			<arg value="Public API of the Localization Framework"/>
			<arg line="-package org.spicefactory.parsley.localization.events"/>
			<arg value="Localization Events"/>
			<arg line="-package org.spicefactory.parsley.localization.spi"/>
			<arg value="Service Provider Interfaces of the Localization Framework"/>
			<arg line="-package org.spicefactory.parsley.localization.impl"/>
			<arg value="Default Implementation of the Localization API"/>
			<arg line="-package org.spicefactory.parsley.mvc"/>
			<arg value="Public API of the MVC Framework"/>
			<arg line="-package org.spicefactory.parsley.mvc.impl"/>
			<arg value="Internal classes of the MVC Framework"/>
			<arg line="-package org.spicefactory.parsley.namespaces.cinnamon"/>
			<arg value="Custom Configuration Namespace for Cinnamon Remoting"/>
			<arg line="-package org.spicefactory.parsley.namespaces.logging"/>
			<arg value="Custom Configuration Namespace for Spicelib Logging"/>
			<arg line="-package org.spicefactory.parsley.namespaces.mvc"/>
			<arg value="Custom Configuration Namespace for the MVC Framework"/>
			<arg line="-package org.spicefactory.parsley.util"/>
			<arg value="Internal Utility Classes"/>
			-->
			<arg line="-output release/fullapi"/>
		</exec>
		
	</target>
	
	<target name="api_public">
		<delete dir="${project.dir}/release/publicapi"/>
		<mkdir dir="${project.dir}/release/publicapi"/>
		<exec executable="${flex.sdk}/bin/asdoc.exe" dir="${project.dir}">
			<arg line="-source-path spicelib-core spicelib-reflect spicelib-expressions spicelib-logging spicelib-task spicelib-xml parsley-core parsley-flex parsley-xml parsley-localization"/>
			<!--
			<arg line="-doc-classes org.spicefactory.parsley.context.ApplicationContext"/>
			<arg line="org.spicefactory.parsley.context.ApplicationContextParser"/> 
			<arg line="org.spicefactory.parsley.context.ConfigurationError"/> 
			<arg line="org.spicefactory.parsley.context.factory.ElementConfig"/> 
			<arg line="org.spicefactory.parsley.context.factory.FactoryMetadata"/> 
			<arg line="org.spicefactory.parsley.context.factory.ObjectFactoryConfig"/> 
			<arg line="org.spicefactory.parsley.context.factory.ObjectProcessorConfig"/> 
			<arg line="org.spicefactory.parsley.context.factory.ParserContext"/> 
			<arg line="org.spicefactory.parsley.localization.Locale"/>
			<arg line="org.spicefactory.parsley.localization.LocaleManager"/>
			<arg line="org.spicefactory.parsley.localization.MessageBundle"/>
			<arg line="org.spicefactory.parsley.localization.MessageSource"/>
			<arg line="org.spicefactory.parsley.localization.events.LocaleSwitchEvent"/>
			<arg line="org.spicefactory.parsley.mvc.Action"/>
			<arg line="org.spicefactory.parsley.mvc.ActionInterceptor"/>
			<arg line="org.spicefactory.parsley.mvc.ActionProcessor"/>
			<arg line="org.spicefactory.parsley.mvc.ApplicationEvent"/>
			<arg line="org.spicefactory.parsley.mvc.EventSource"/>
			<arg line="org.spicefactory.parsley.mvc.FrontController"/>
			-->
			<arg line="-library-path ${basedir}/cinnamon-${cinnamon.version}.swc"/>
			<arg line="-exclude-dependencies=true"/>
			<arg line="-left-frameset-width 250"/>
			<arg line="-main-title"/>
			<arg value="Parsley Public API"/>
			<arg line="-window-title"/>
			<arg value="Parsley Public API"/>
			<!--
			<arg line="-package org.spicefactory.parsley.context"/>
			<arg value="Public API of the IOC Container"/>
			<arg line="-package org.spicefactory.parsley.context.factory"/>
			<arg value="Public API for Custom Configuration Namespaces"/>
			<arg line="-package org.spicefactory.parsley.localization"/>
			<arg value="Public API of the Localization Framework"/>
			<arg line="-package org.spicefactory.parsley.localization.events"/>
			<arg value="Localization Events"/>
			<arg line="-package org.spicefactory.parsley.mvc"/>
			<arg value="Public API of the MVC Framework"/>
			-->
			<arg line="-output release/publicapi"/>
		</exec>
	</target>
	
	<target name="api_all" description="Create Public and Full Client API">
		<antcall target="api_public"/>
		<antcall target="api_full"/>
	</target>

	<!--
	<target name="api_spicelib">
		<delete dir="${project.dir}/release/spicelibapi"/>
		<mkdir dir="${project.dir}/release/spicelibapi"/>
		<exec executable="${flex.sdk}/bin/asdoc.exe" dir="${project.dir}" spawn="no">
			<arg line="-source-path ."/>
			<arg line="-doc-sources ."/>
			<arg line="-left-frameset-width 250"/>
			<arg line="-main-title"/>
			<arg value="Spicelib API"/>
			<arg line="-window-title"/>
			<arg value="Spicelib API"/>
			<arg line="-package org.spicefactory.lib.errors"/>
			<arg value="Common Error Classes"/>
			<arg line="-package org.spicefactory.lib.events"/>
			<arg value="Common Event Classes"/>
			<arg line="-package org.spicefactory.lib.expr"/>
			<arg value="Expression Framework API"/>
			<arg line="-package org.spicefactory.lib.expr.impl"/>
			<arg value="Expression Framework Implementation"/>
			<arg line="-package org.spicefactory.lib.logging"/>
			<arg value="Logging Framework API"/>
			<arg line="-package org.spicefactory.lib.logging.impl"/>
			<arg value="Logging Framework Implementation"/>
			<arg line="-package org.spicefactory.lib.reflect"/>
			<arg value="Reflection API"/>
			<arg line="-package org.spicefactory.lib.reflect.converter"/>
			<arg value="Several Converter implementations"/>
			<arg line="-package org.spicefactory.lib.reflect.errors"/>
			<arg value="Reflection Errors"/>
			<arg line="-package org.spicefactory.lib.reflect.metadata"/>
			<arg value="Classes mapped to metadata tags"/>
			<arg line="-package org.spicefactory.lib.reflect.types"/>
			<arg value="Classes representing * and void"/>
			<arg line="-package org.spicefactory.lib.task"/>
			<arg value="The Task Framework - Abstractions for asynchronous operations"/>
			<arg line="-package org.spicefactory.lib.task.enum"/>
			<arg value="Enumerations for the Task Framework"/>
			<arg line="-package org.spicefactory.lib.task.events"/>
			<arg value="Events for the Task Framework"/>
			<arg line="-package org.spicefactory.lib.task.util"/>
			<arg value="Utility Task Implementations"/>
			<arg line="-package org.spicefactory.lib.util"/>
			<arg value="Miscellaneous Utitlities"/>
			<arg line="-output ../docs"/>
		</exec>
	</target>
	-->

	<!-- create release zip -->
		
	<target name="release_zip" description="Create Release Zip">
		
		<!-- create directories -->
		<delete dir="${release.target.dir}"/>
		<mkdir dir="${release.target.dir}"/>

		<mkdir dir="${release.target.dir}/src"/>
		<mkdir dir="${release.target.dir}/lib"/>
		
		<!-- build all swcs -->
		<antcall target="compile_all"/>
		
		<!-- copy license -->
		<copy todir="${release.target.dir}">
			<fileset dir="${project.dir}" includes="license.txt"/>
		</copy>
		
		<!-- copy project -->
		<copy todir="${release.target.dir}/src">
			<fileset dir="${project.dir}">
				 <include name="spicelib-core/**/*"/>
				 <include name="spicelib-reflect/**/*"/>
				 <include name="spicelib-expressions/**/*"/>
				 <include name="spicelib-task/**/*"/>
				 <include name="spicelib-logging/**/*"/>
				 <include name="spicelib-xml/**/*"/>
				 <include name="parsley-core/**/*"/>
				 <include name="parsley-flex/**/*"/>
				 <include name="parsley-xml/**/*"/>
				 <include name="parsley-localization/**/*"/>
				 <include name="test/**/*"/>
			</fileset>
		</copy>
		<copy todir="${release.target.dir}/lib">
			<fileset dir="${project.dir}/lib" includes="*.swc"/>
		</copy>
		
		<!-- create zip -->
		<zip basedir="${release.target.dir}" zipfile="${release.target.dir}/../parsley-${version}.zip"/>
	</target>
	

	
</project>
