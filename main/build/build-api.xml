<project name="Parsley Spicelib API"> 

	<property file="build.properties" />
	
	<property name="project.dir" value="${basedir}/.."/>

	<target name="parsley_flex">
		<delete dir="${project.dir}/release/api/parsley-flex"/>
		<mkdir dir="${project.dir}/release/api/parsley-flex"/>
		<exec executable="${flex3.sdk}/bin/asdoc.exe" dir="${project.dir}" spawn="no">
			<arg line="-load-config+=build/config/parsley-api-flex.xml" />
			<arg line="+project=${project.dir}" />
		</exec>
	</target>
	
	<target name="parsley_flash">
		<delete dir="${project.dir}/release/api/parsley-flash"/>
		<mkdir dir="${project.dir}/release/api/parsley-flash"/>
		<exec executable="${flex3.sdk}/bin/asdoc.exe" dir="${project.dir}" spawn="no">
			<arg line="-load-config+=build/config/parsley-api-flash.xml" />
			<arg line="+project=${project.dir}" />
		</exec>
	</target>
	
	<target name="spicelib">
		<delete dir="${project.dir}/release/api/spicelib"/>
		<mkdir dir="${project.dir}/release/api/spicelib"/>
		<exec executable="${flex3.sdk}/bin/asdoc.exe" dir="${project.dir}" spawn="no">
			<arg line="-load-config+=build/config/spicelib-api.xml" />
			<arg line="+project=${project.dir}" />
		</exec>
	</target>
	
	<target name="api_all" description="Create Public and Full Client API">
		<antcall target="parsley_flex"/>
		<antcall target="parsley_flash"/>
		<antcall target="spicelib"/>
	</target>

</project>
